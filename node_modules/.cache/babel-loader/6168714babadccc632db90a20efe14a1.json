{"remainingRequest":"C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\src\\views\\home\\Home.vue?vue&type=template&id=28ba262c&scoped=true","dependencies":[{"path":"C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\src\\views\\home\\Home.vue","mtime":1611667988635},{"path":"C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCB2U2hvdyBhcyBfdlNob3csIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi0yOGJhMjYyYyIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtMjhiYTI2MmMiKTsKCnZhciBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgIiDotK3nianooZcgIiwgLTEpOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X25hdl9iYXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgibmF2LWJhciIpOwoKICB2YXIgX2NvbXBvbmVudF90YWJfY29udHJvbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJ0YWItY29udHJvbCIpOwoKICB2YXIgX2NvbXBvbmVudF9ob21lX3N3aXBlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJob21lLXN3aXBlciIpOwoKICB2YXIgX2NvbXBvbmVudF9ob21lX3JlY29tID0gX3Jlc29sdmVDb21wb25lbnQoImhvbWUtcmVjb20iKTsKCiAgdmFyIF9jb21wb25lbnRfZ29vZHNfbGlzdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJnb29kcy1saXN0Iik7CgogIHZhciBfY29tcG9uZW50X3Njcm9sbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJzY3JvbGwiKTsKCiAgdmFyIF9jb21wb25lbnRfYmFja190b3AgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYmFjay10b3AiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X25hdl9iYXIsIHsKICAgIGNsYXNzOiAiaG9tZV9uYXYiCiAgfSwgewogICAgY2VudGVyOiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF8xXTsKICAgIH0pLAogICAgXzogMQogIH0pLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdGFiX2NvbnRyb2wsIHsKICAgIHJlZjogInRhYkNvbnRyb2xfbmV3IiwKICAgIG9uVGFiQ29udHJvbDogJG9wdGlvbnMuSGFuZGxlVGFiQ29udHJvbCwKICAgIGNsYXNzOiAidGFiX2NvbnRyb2xfbmV3IiwKICAgIHRpdGxlczogJGRhdGEudGl0bGVzCiAgfSwgbnVsbCwgOCwgWyJvblRhYkNvbnRyb2wiLCAidGl0bGVzIl0pLCBbW192U2hvdywgJGRhdGEuaXNUYWJDb250cm9sRml4XV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9zY3JvbGwsIHsKICAgIGNsYXNzOiAiY29udGVudCIsCiAgICByZWY6ICJzY3JvbGwiLAogICAgInByb2JlLXR5cGUiOiAzLAogICAgb25TY3JvbGw6ICRvcHRpb25zLkhhbmRsZVNjcm9sbCwKICAgICJwdWxsLXVwLWxvYWQiOiB0cnVlLAogICAgb25QdWxsaW5nVXA6ICRvcHRpb25zLkxvYWRNb3JlCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaG9tZV9zd2lwZXIsIHsKICAgICAgICBiYW5uZXI6ICRkYXRhLmJhbm5lciwKICAgICAgICBvblN3aXBlckxvYWQ6ICRvcHRpb25zLnN3aXBlckxvYWQKICAgICAgfSwgbnVsbCwgOCwgWyJiYW5uZXIiLCAib25Td2lwZXJMb2FkIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9ob21lX3JlY29tLCB7CiAgICAgICAgcmVjb21tZW5kOiAkZGF0YS5yZWNvbW1lbmQKICAgICAgfSwgbnVsbCwgOCwgWyJyZWNvbW1lbmQiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3RhYl9jb250cm9sLCB7CiAgICAgICAgcmVmOiAidGFiQ29udHJvbCIsCiAgICAgICAgb25UYWJDb250cm9sOiAkb3B0aW9ucy5IYW5kbGVUYWJDb250cm9sLAogICAgICAgIGNsYXNzOiAidGFiX2NvbnRyb2wiLAogICAgICAgIHRpdGxlczogJGRhdGEudGl0bGVzCiAgICAgIH0sIG51bGwsIDgsIFsib25UYWJDb250cm9sIiwgInRpdGxlcyJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZ29vZHNfbGlzdCwgewogICAgICAgIGdvb2RzOiAkZGF0YS5nb29kc1skZGF0YS50aXRsZXNbJGRhdGEuY3VycmVudEluZGV4XV0ubGlzdCwKICAgICAgICBvbkhhbmRsZUxvYWQ6ICRvcHRpb25zLkxvYWRGaW5pc2gKICAgICAgfSwgbnVsbCwgOCwgWyJnb29kcyIsICJvbkhhbmRsZUxvYWQiXSldOwogICAgfSksCiAgICBfOiAxCiAgfSwgOCwgWyJvblNjcm9sbCIsICJvblB1bGxpbmdVcCJdKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2JhY2tfdG9wLCB7CiAgICBvbkNsaWNrOiAkb3B0aW9ucy5iYWNrQ2xpY2sKICB9LCBudWxsLCA4LCBbIm9uQ2xpY2siXSksIFtbX3ZTaG93LCAkZGF0YS5pc1Nob3dCYWNrVG9wXV0pXSwgNjQpOwp9KTs="},{"version":3,"sources":["C:\\Users\\17127\\Desktop\\IT\\vue\\教学2\\shopmall\\src\\views\\home\\Home.vue"],"names":[],"mappings":";;;;;;8BAGM,YAAA,CAEM,KAFN,EAEM,IAFN,EAAK,OAAL,EAEA,CAAA,CAFA,C;;;;;;;;;;;;;;;;;;;sDAFJ,YAAA,CAMU,kBANV,EAMU;AAND,IAAA,KAAK,EAAC;AAML,GANV,EAAyB;AACZ,IAAA,MAAM,EAAA,OAAA,CACf;AAAA,aAEM,CAFN,UAEM,CAFN;AAAA,KADe,CADM;;AAAA,GAAzB,C,kBAOA,YAAA,CACyC,sBADzC,EACyC;AAD5B,IAAA,GAAG,EAAC,gBACwB;AADN,IAAA,YAAU,EAAE,QAAA,CAAA,gBACN;AADwB,IAAA,KAAK,EAAC,iBAC9B;AADiD,IAAA,MAAM,EAAE,KAAA,CAAA;AACzD,GADzC,E,IAAA,E,CAAA,E,0BAAA,C,YACU,KAAA,CAAA,e,KACV,YAAA,CAMS,iBANT,EAMS;AAND,IAAA,KAAK,EAAC,SAML;AANe,IAAA,GAAG,EAAC,QAMnB;AAN6B,kBAAY,CAMzC;AAN6C,IAAA,QAAM,EAAE,QAAA,CAAA,YAMrD;AANoE,oBAAc,IAMlF;AALN,IAAA,WAAS,EAAE,QAAA,CAAA;AAKL,GANT,E;qBAEE;AAAA,aAAsE,CAAtE,YAAA,CAAsE,sBAAtE,EAAsE;AAAxD,QAAA,MAAM,EAAE,KAAA,CAAA,MAAgD;AAAvC,QAAA,YAAW,EAAE,QAAA,CAAA;AAA0B,OAAtE,E,IAAA,E,CAAA,E,0BAAA,CAAsE,EACtE,YAAA,CAAgD,qBAAhD,EAAgD;AAAnC,QAAA,SAAS,EAAE,KAAA,CAAA;AAAwB,OAAhD,EAAiC,IAAjC,EAAiC,CAAjC,EAAiC,CAAA,WAAA,CAAjC,CADsE,EAEtE,YAAA,CAAgH,sBAAhH,EAAgH;AAAnG,QAAA,GAAG,EAAC,YAA+F;AAAjF,QAAA,YAAU,EAAE,QAAA,CAAA,gBAAqE;AAAnD,QAAA,KAAK,EAAC,aAA6C;AAA9B,QAAA,MAAM,EAAE,KAAA,CAAA;AAAsB,OAAhH,E,IAAA,E,CAAA,E,0BAAA,CAFsE,EAGtE,YAAA,CAA6F,qBAA7F,EAA6F;AAAhF,QAAA,KAAK,EAAE,KAAA,CAAA,KAAA,CAAM,KAAA,CAAA,MAAA,CAAO,KAAA,CAAA,YAAP,CAAN,EAA4B,IAA6C;AAAtC,QAAA,YAAW,EAAE,QAAA,CAAA;AAAyB,OAA7F,E,IAAA,E,CAAA,E,yBAAA,CAHsE,CAAtE;AAAA,K;;GAFF,E,CAAA,E,2BAAA,C,kBAOA,YAAA,CAA+D,mBAA/D,EAA+D;AAApD,IAAA,OAAK,EAAE,QAAA,CAAA;AAA6C,GAA/D,EAA2B,IAA3B,EAA2B,CAA3B,EAA2B,CAAA,SAAA,CAA3B,C,EAA2B,C,SAAU,KAAA,CAAA,a,CAAV,C","sourcesContent":["<template>\n  <nav-bar class=\"home_nav\">\n    <template #center>\n      <div>\n        购物街\n      </div>\n    </template>\n  </nav-bar>\n  <tab-control ref=\"tabControl_new\" @tabControl=\"HandleTabControl\" class=\"tab_control_new\" :titles='titles'\n    v-show=\"isTabControlFix\"></tab-control>\n  <scroll class=\"content\" ref=\"scroll\" :probe-type=\"3\" @scroll=\"HandleScroll\" :pull-up-load=\"true\"\n    @pullingUp=\"LoadMore\">\n    <home-swiper :banner=\"banner\" @swiper-load=\"swiperLoad\"></home-swiper>\n    <home-recom :recommend=\"recommend\"></home-recom>\n    <tab-control ref=\"tabControl\" @tabControl=\"HandleTabControl\" class=\"tab_control\" :titles='titles'></tab-control>\n    <goods-list :goods=\"goods[titles[currentIndex]].list\" @handle-load=\"LoadFinish\"></goods-list>\n  </scroll>\n  <back-top @click=\"backClick\" v-show=\"isShowBackTop\"></back-top>\n</template>\n\n<script>\n  import { getHomeData, getHomeGoods } from '@/network/home.js'\n\n  import NavBar from '@/components/common/navbar/NavBar.vue'\n  import Scroll from '@/components/common/scroll/Scroll.vue'\n  import BackTop from '@/components/common/backtop/BackTop.vue'\n  import TabControl from '@/components/content/tabControl/TabControl.vue'\n  import GoodsList from '@/components/content/goods/GoodsList.vue'\n\n  import HomeSwiper from './homecomp/HomeSwiper.vue'\n  import HomeRecom from './homecomp/HomeRecom.vue'\n\n  import { debounce } from '@/common/utils.js'\n\n\n\n  export default {\n    name: 'Home',\n    components: {\n      NavBar,\n      HomeSwiper,\n      HomeRecom,\n      TabControl,\n      GoodsList,\n      Scroll,\n      BackTop\n    },\n    data() {\n      return {\n        banner: [],\n        keywords: [],\n        recommend: [],\n        titles: ['pop', 'new', 'sell'],\n        currentIndex: 0,\n        goods: {\n          'pop': { page: 0, list: [] },\n          'new': { page: 0, list: [] },\n          'sell': { page: 0, list: [] }\n        },\n        handleRefresh: null,\n        isShowBackTop: false,\n        tabControlOffsetTop: 0,\n        isTabControlFix: false,\n        saveY: 0\n      }\n    },\n    methods: {\n      getHomeData() {\n        getHomeData().then(res => {\n          this.banner = res.data.banner.list;\n          this.keywords = res.data.keywords.list;\n          this.recommend = res.data.recommend.list\n        })\n      },\n      getHomeGoods(type) {\n        const page = this.goods[type].page\n        getHomeGoods(type, page + 1).then(res => {\n          this.goods[type].list.push(...res.list)\n          this.goods[type].page++\n        })\n\n      },\n      HandleTabControl(index) {\n        this.currentIndex = index\n        this.$refs.tabControl.currentIndex = index\n        this.$refs.tabControl_new.currentIndex = index\n      },\n      backClick() {\n        this.$refs.scroll.scroll.scrollTo(0, 0, 1000)\n      },\n      HandleScroll(position) {\n        this.isShowBackTop = position.y < -1000 ? true : false\n        this.isTabControlFix = position.y < (-this.tabControlOffsetTop)\n      },\n      LoadMore() {\n        console.log('loadmore');\n        this.getHomeGoods(this.titles[this.currentIndex])\n        this.$refs.scroll.scroll.finishPullUp()\n        // console.log(this.goods);\n      },\n      LoadFinish() {\n        // const refresh = this.debounce(this.$refs.scroll.scroll.refresh, 5000)\n        this.handleRefresh()\n        // this.$refs.scroll.refresh()\n      },\n      swiperLoad() {\n        this.tabControlOffsetTop = this.$refs.tabControl.$el.offsetTop;\n      }\n\n    },\n\n    created() {\n      this.getHomeData(),\n        this.getHomeGoods('pop')\n      this.getHomeGoods('new'),\n        this.getHomeGoods('sell')\n    },\n    mounted() {\n      this.handleRefresh = debounce(this.$refs.scroll.refresh, 500)\n    }\n  }\n</script>\n<style scoped>\n  .home_nav {\n    background-color: #1653c4;\n    color: #fff;\n    /* position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 9; */\n  }\n\n  .tab_control_new {\n    position: absolute;\n    z-index: 9;\n  }\n\n  .tab_control {\n    position: fix;\n    top: 3rem;\n  }\n\n  .content {\n    height: 700px;\n    overflow: hidden;\n  }\n</style>"],"sourceRoot":""}]}